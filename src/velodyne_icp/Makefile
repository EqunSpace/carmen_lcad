include ../Makefile.conf

MODULE_NAME = Velodyne ICP
MODULE_COMMENT = This module implements the iterative closest point method to give a displacement between point clouds generated by the velodyne

LINK = g++
CXXFLAGS += -Wall -msse3

PCL_INC = $(wildcard /usr/local/include/pcl-*)
IFLAGS += -I/usr/include/eigen3 -I $(PCL_INC)

LFLAGS += -lglobal -lipc -lparam_interface
LFLAGS += -lfused_odometry_interface -lvelodyne_interface -lrotation_geometry
LFLAGS += -lpcl_common -lpcl_kdtree -lpcl_sample_consensus -lpcl_features 

SOURCES = velodyne_icp.cpp icp_processor.cpp example.cpp
PUBLIC_INCLUDES = velodyne_icp_messages.h velodyne_icp_interface.h

PUBLIC_LIBRARIES = libvelodyne_icp_interface.a
PUBLIC_BINARIES = velodyne_icp
PUBLIC_LIBRARIES_SO = libvelodyne_icp_interface.so

TARGETS = velodyne_icp libvelodyne_icp_interface.a example

ifndef NO_PYTHON
TARGETS += libvelodyne_icp_interface.so.1
endif

# rules
libvelodyne_icp_interface.a: velodyne_icp_interface.o

libvelodyne_icp_interface.so.1:	velodyne_icp_interface.o

velodyne_icp: velodyne_icp.o icp_processor.o

example: example.o


include ../Makefile.rules



